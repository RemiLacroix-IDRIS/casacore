<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>casacore: casacore::PositionEngine Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">casacore
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecasacore.html">casacore</a></li><li class="navelem"><a class="el" href="classcasacore_1_1PositionEngine.html">PositionEngine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classcasacore_1_1PositionEngine-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">casacore::PositionEngine Class Reference<div class="ingroups"><a class="el" href="group__MeasUDF__module.html">MeasUDF_module</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Engine for TaQL UDF Position conversions.  
 <a href="classcasacore_1_1PositionEngine.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="PositionEngine_8h_source.html">PositionEngine.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for casacore::PositionEngine:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcasacore_1_1PositionEngine.png" usemap="#casacore::PositionEngine_map" alt=""/>
  <map id="casacore::PositionEngine_map" name="casacore::PositionEngine_map">
<area href="classcasacore_1_1MeasEngine.html" alt="casacore::MeasEngine&lt; MPosition &gt;" shape="rect" coords="0,56,220,80"/>
<area href="classcasacore_1_1BaseEngine.html" title="Abstract base class for the TaQL UDF conversion engines. " alt="casacore::BaseEngine" shape="rect" coords="0,0,220,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad14a75b9a632f5fa0a21e2b7b8963a5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#ad14a75b9a632f5fa0a21e2b7b8963a5c">PositionEngine</a> ()</td></tr>
<tr class="separator:ad14a75b9a632f5fa0a21e2b7b8963a5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8afd6875d145a5f71d2a5d26be5143d9"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#a8afd6875d145a5f71d2a5d26be5143d9">~PositionEngine</a> ()</td></tr>
<tr class="separator:a8afd6875d145a5f71d2a5d26be5143d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c597a0f971309d7b1b10cf5a55c5fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#a46c597a0f971309d7b1b10cf5a55c5fa">valueType</a> () const </td></tr>
<tr class="memdesc:a46c597a0f971309d7b1b10cf5a55c5fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value type.  <a href="#a46c597a0f971309d7b1b10cf5a55c5fa">More...</a><br/></td></tr>
<tr class="separator:a46c597a0f971309d7b1b10cf5a55c5fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bfce9bd00d483cce6a69224b9baf11e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1Array.html">Array</a>&lt; <a class="el" href="namespacecasacore.html#ada1f75eb2b38067e3eb1af7f5d69ebb2">Double</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#a7bfce9bd00d483cce6a69224b9baf11e">getArrayDouble</a> (const <a class="el" href="classcasacore_1_1TableExprId.html">TableExprId</a> &amp;id, <a class="el" href="classcasacore_1_1MPosition.html#a27a281e66a485ef884d5739fed06fc37">MPosition::Types</a> toRefType, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> toValueType)</td></tr>
<tr class="memdesc:a7bfce9bd00d483cce6a69224b9baf11e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the values.  <a href="#a7bfce9bd00d483cce6a69224b9baf11e">More...</a><br/></td></tr>
<tr class="separator:a7bfce9bd00d483cce6a69224b9baf11e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e2f7c01bbed7ce81562591566e0bdcb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1Array.html">Array</a>&lt; <a class="el" href="classcasacore_1_1MPosition.html">MPosition</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#a1e2f7c01bbed7ce81562591566e0bdcb">getPositions</a> (const <a class="el" href="classcasacore_1_1TableExprId.html">TableExprId</a> &amp;id)</td></tr>
<tr class="memdesc:a1e2f7c01bbed7ce81562591566e0bdcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the positions.  <a href="#a1e2f7c01bbed7ce81562591566e0bdcb">More...</a><br/></td></tr>
<tr class="separator:a1e2f7c01bbed7ce81562591566e0bdcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8666bbadfced9a8a746a06c2f478a91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#aa8666bbadfced9a8a746a06c2f478a91">handlePosition</a> (<a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> toValueType, const std::vector&lt; <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &gt; &amp;args, <a class="el" href="namespacecasacore.html#a5c559d8d8bf2ae7f67b439955d6be88a">uInt</a> &amp;argnr)</td></tr>
<tr class="memdesc:aa8666bbadfced9a8a746a06c2f478a91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle the argument(s) giving the input positions and reference type.  <a href="#aa8666bbadfced9a8a746a06c2f478a91">More...</a><br/></td></tr>
<tr class="separator:aa8666bbadfced9a8a746a06c2f478a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classcasacore_1_1MeasEngine"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classcasacore_1_1MeasEngine')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classcasacore_1_1MeasEngine.html">casacore::MeasEngine&lt; MPosition &gt;</a></td></tr>
<tr class="memitem:ab36b24c2ff1c471607e6fae559518fe5 inherit pub_methods_classcasacore_1_1MeasEngine"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MeasEngine.html#ab36b24c2ff1c471607e6fae559518fe5">MeasEngine</a> ()</td></tr>
<tr class="separator:ab36b24c2ff1c471607e6fae559518fe5 inherit pub_methods_classcasacore_1_1MeasEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a332e557d6bdbe2713515675333bf1845 inherit pub_methods_classcasacore_1_1MeasEngine"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MeasEngine.html#a332e557d6bdbe2713515675333bf1845">~MeasEngine</a> ()</td></tr>
<tr class="separator:a332e557d6bdbe2713515675333bf1845 inherit pub_methods_classcasacore_1_1MeasEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3134e9a7a67256c15200d784bf30988 inherit pub_methods_classcasacore_1_1MeasEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1MPosition.html#a27a281e66a485ef884d5739fed06fc37">MPosition::Types</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MeasEngine.html#ae3134e9a7a67256c15200d784bf30988">refType</a> () const</td></tr>
<tr class="memdesc:ae3134e9a7a67256c15200d784bf30988 inherit pub_methods_classcasacore_1_1MeasEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the reference type.  <a href="#ae3134e9a7a67256c15200d784bf30988">More...</a><br/></td></tr>
<tr class="separator:ae3134e9a7a67256c15200d784bf30988 inherit pub_methods_classcasacore_1_1MeasEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e99e40a949ca48279aa4a57ceb7a25 inherit pub_methods_classcasacore_1_1MeasEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MeasEngine.html#a17e99e40a949ca48279aa4a57ceb7a25">handleMeasType</a> (const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;operand, <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> doThrow)</td></tr>
<tr class="memdesc:a17e99e40a949ca48279aa4a57ceb7a25 inherit pub_methods_classcasacore_1_1MeasEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a doppler reference type.  <a href="#a17e99e40a949ca48279aa4a57ceb7a25">More...</a><br/></td></tr>
<tr class="separator:a17e99e40a949ca48279aa4a57ceb7a25 inherit pub_methods_classcasacore_1_1MeasEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eaf1b7eff02072e5f8a5958a833420a inherit pub_methods_classcasacore_1_1MeasEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1Record.html">Record</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MeasEngine.html#a7eaf1b7eff02072e5f8a5958a833420a">makeAttributes</a> (typename <a class="el" href="classcasacore_1_1MPosition.html#a27a281e66a485ef884d5739fed06fc37">MPosition::Types</a> <a class="el" href="classcasacore_1_1MeasEngine.html#ae3134e9a7a67256c15200d784bf30988">refType</a>, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> valueType=1) const</td></tr>
<tr class="memdesc:a7eaf1b7eff02072e5f8a5958a833420a inherit pub_methods_classcasacore_1_1MeasEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make the expression result attributes.  <a href="#a7eaf1b7eff02072e5f8a5958a833420a">More...</a><br/></td></tr>
<tr class="separator:a7eaf1b7eff02072e5f8a5958a833420a inherit pub_methods_classcasacore_1_1MeasEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classcasacore_1_1BaseEngine"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classcasacore_1_1BaseEngine')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classcasacore_1_1BaseEngine.html">casacore::BaseEngine</a></td></tr>
<tr class="memitem:ad461b1365c6ad29db88e176276e6d397 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#ad461b1365c6ad29db88e176276e6d397">BaseEngine</a> ()</td></tr>
<tr class="separator:ad461b1365c6ad29db88e176276e6d397 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a917af5467b29d0c67a00ef4e145df7c6 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#a917af5467b29d0c67a00ef4e145df7c6">~BaseEngine</a> ()</td></tr>
<tr class="separator:a917af5467b29d0c67a00ef4e145df7c6 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2684554753dc1ce2491f998bb8426f58 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#a2684554753dc1ce2491f998bb8426f58">adaptForConstant</a> (const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;shapeConstant, <a class="el" href="namespacecasacore.html#a5c559d8d8bf2ae7f67b439955d6be88a">uInt</a> nvalues=0)</td></tr>
<tr class="memdesc:a2684554753dc1ce2491f998bb8426f58 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adapt the output shape and dimensionality for possible constant values.  <a href="#a2684554753dc1ce2491f998bb8426f58">More...</a><br/></td></tr>
<tr class="separator:a2684554753dc1ce2491f998bb8426f58 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa97230899593db7ef780e0f6dad1f88 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#aaa97230899593db7ef780e0f6dad1f88">extendBase</a> (const <a class="el" href="classcasacore_1_1BaseEngine.html">BaseEngine</a> &amp;, <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> removeFirstAxis=<a class="el" href="namespacecasacore.html#a11ef6530f2dc946f54d220fe416bfd41">False</a>)</td></tr>
<tr class="memdesc:aaa97230899593db7ef780e0f6dad1f88 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extend the shape (if not empty) with the engine's shape.  <a href="#aaa97230899593db7ef780e0f6dad1f88">More...</a><br/></td></tr>
<tr class="separator:aaa97230899593db7ef780e0f6dad1f88 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b5f0f69a7bad7d8881371f6ed563ac5 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#a9b5f0f69a7bad7d8881371f6ed563ac5">shape</a> () const </td></tr>
<tr class="memdesc:a9b5f0f69a7bad7d8881371f6ed563ac5 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the output shape.  <a href="#a9b5f0f69a7bad7d8881371f6ed563ac5">More...</a><br/></td></tr>
<tr class="separator:a9b5f0f69a7bad7d8881371f6ed563ac5 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eaeca143f0a97f5f2094e7aaef1fdb3 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#a4eaeca143f0a97f5f2094e7aaef1fdb3">ndim</a> () const </td></tr>
<tr class="memdesc:a4eaeca143f0a97f5f2094e7aaef1fdb3 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the output dimensionality.  <a href="#a4eaeca143f0a97f5f2094e7aaef1fdb3">More...</a><br/></td></tr>
<tr class="separator:a4eaeca143f0a97f5f2094e7aaef1fdb3 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad6b0ead9d4532b289c10357dd10209 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcasacore_1_1Unit.html">Unit</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#afad6b0ead9d4532b289c10357dd10209">unit</a> () const </td></tr>
<tr class="memdesc:afad6b0ead9d4532b289c10357dd10209 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the unit of the function's result.  <a href="#afad6b0ead9d4532b289c10357dd10209">More...</a><br/></td></tr>
<tr class="separator:afad6b0ead9d4532b289c10357dd10209 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36768387f70b3a7c4ab6acf8a5b51cc6 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcasacore_1_1Unit.html">Unit</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#a36768387f70b3a7c4ab6acf8a5b51cc6">inUnit</a> () const </td></tr>
<tr class="memdesc:a36768387f70b3a7c4ab6acf8a5b51cc6 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the unit of the expression.  <a href="#a36768387f70b3a7c4ab6acf8a5b51cc6">More...</a><br/></td></tr>
<tr class="separator:a36768387f70b3a7c4ab6acf8a5b51cc6 inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e39d97e8ff6b9bd03e0bbdcd55e34cc inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#a2e39d97e8ff6b9bd03e0bbdcd55e34cc">isConstant</a> () const </td></tr>
<tr class="memdesc:a2e39d97e8ff6b9bd03e0bbdcd55e34cc inherit pub_methods_classcasacore_1_1BaseEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell if the expression is constant.  <a href="#a2e39d97e8ff6b9bd03e0bbdcd55e34cc">More...</a><br/></td></tr>
<tr class="separator:a2e39d97e8ff6b9bd03e0bbdcd55e34cc inherit pub_methods_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a370017c34fcd8123a4885d645744afb0"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classcasacore_1_1String.html">String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#a370017c34fcd8123a4885d645744afb0">stripMeasType</a> (const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;type)</td></tr>
<tr class="memdesc:a370017c34fcd8123a4885d645744afb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let a derived class strip part of the reference type.  <a href="#a370017c34fcd8123a4885d645744afb0">More...</a><br/></td></tr>
<tr class="separator:a370017c34fcd8123a4885d645744afb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5083289fa5ccb7c8dd640b74ae65dec2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#a5083289fa5ccb7c8dd640b74ae65dec2">deriveAttr</a> (const <a class="el" href="classcasacore_1_1Unit.html">Unit</a> &amp;<a class="el" href="classcasacore_1_1BaseEngine.html#afad6b0ead9d4532b289c10357dd10209">unit</a>, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> nval)</td></tr>
<tr class="memdesc:a5083289fa5ccb7c8dd640b74ae65dec2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let a derived class derive its attributes.  <a href="#a5083289fa5ccb7c8dd640b74ae65dec2">More...</a><br/></td></tr>
<tr class="separator:a5083289fa5ccb7c8dd640b74ae65dec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2769a8e8ef12ad4ef7b027982a63d25b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#a2769a8e8ef12ad4ef7b027982a63d25b">setValueType</a> (<a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> <a class="el" href="classcasacore_1_1PositionEngine.html#a46c597a0f971309d7b1b10cf5a55c5fa">valueType</a>)</td></tr>
<tr class="memdesc:a2769a8e8ef12ad4ef7b027982a63d25b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let a derived class set its value type.  <a href="#a2769a8e8ef12ad4ef7b027982a63d25b">More...</a><br/></td></tr>
<tr class="separator:a2769a8e8ef12ad4ef7b027982a63d25b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19a7a3f0b92ec0a845b356122c441d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1MPosition.html">MPosition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#aa19a7a3f0b92ec0a845b356122c441d2">makePosition</a> (const <a class="el" href="namespacecasacore.html#ad5429fefc00b65ab7ddb394a0e3fa410">Quantity</a> &amp;qh, const <a class="el" href="namespacecasacore.html#ad5429fefc00b65ab7ddb394a0e3fa410">Quantity</a> &amp;q1, const <a class="el" href="namespacecasacore.html#ad5429fefc00b65ab7ddb394a0e3fa410">Quantity</a> &amp;q2) const </td></tr>
<tr class="memdesc:aa19a7a3f0b92ec0a845b356122c441d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make an <a class="el" href="classcasacore_1_1MPosition.html" title="A Measure: position on Earth. ">MPosition</a> from xyz or height,angles.  <a href="#aa19a7a3f0b92ec0a845b356122c441d2">More...</a><br/></td></tr>
<tr class="separator:aa19a7a3f0b92ec0a845b356122c441d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447ce1d63989624e13b2394a185685ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#a447ce1d63989624e13b2394a185685ec">handleScalars</a> (const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;e1, const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;e2, const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;e3, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> nval)</td></tr>
<tr class="separator:a447ce1d63989624e13b2394a185685ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8cf89a778bd664688219cca720b6d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#a4d8cf89a778bd664688219cca720b6d5">handleObservatory</a> (const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;operand)</td></tr>
<tr class="separator:a4d8cf89a778bd664688219cca720b6d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a985c7b01060bd011a3d415fb5f2db6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#a9a985c7b01060bd011a3d415fb5f2db6">handlePosArray</a> (const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;angles, const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;height)</td></tr>
<tr class="separator:a9a985c7b01060bd011a3d415fb5f2db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6408b9b2c10256ca8021a28a8a4ac919"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#a6408b9b2c10256ca8021a28a8a4ac919">handleValues</a> (<a class="el" href="classcasacore_1_1TableExprNode.html">TableExprNode</a> &amp;operand, const <a class="el" href="classcasacore_1_1TableExprId.html">TableExprId</a> &amp;id, <a class="el" href="classcasacore_1_1Array.html">Array</a>&lt; <a class="el" href="classcasacore_1_1MPosition.html">MPosition</a> &gt; &amp;positions)</td></tr>
<tr class="memdesc:a6408b9b2c10256ca8021a28a8a4ac919"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let a derive class handle the values.  <a href="#a6408b9b2c10256ca8021a28a8a4ac919">More...</a><br/></td></tr>
<tr class="separator:a6408b9b2c10256ca8021a28a8a4ac919"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a75fba02cdefa275a638f74aa811f6e26"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1PositionEngine.html#a75fba02cdefa275a638f74aa811f6e26">itsValueType</a></td></tr>
<tr class="separator:a75fba02cdefa275a638f74aa811f6e26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classcasacore_1_1MeasEngine"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classcasacore_1_1MeasEngine')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classcasacore_1_1MeasEngine.html">casacore::MeasEngine&lt; MPosition &gt;</a></td></tr>
<tr class="memitem:ab929328af24d727a78c1d20f2660f824 inherit pro_methods_classcasacore_1_1MeasEngine"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MeasEngine.html#ab929328af24d727a78c1d20f2660f824">handleMeasArray</a> (const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;operand)</td></tr>
<tr class="memdesc:ab929328af24d727a78c1d20f2660f824 inherit pro_methods_classcasacore_1_1MeasEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle the operand representing an array of Meas values.  <a href="#ab929328af24d727a78c1d20f2660f824">More...</a><br/></td></tr>
<tr class="separator:ab929328af24d727a78c1d20f2660f824 inherit pro_methods_classcasacore_1_1MeasEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad30cfce2c705545dbeeae12c7c180fcf inherit pro_methods_classcasacore_1_1MeasEngine"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MeasEngine.html#ad30cfce2c705545dbeeae12c7c180fcf">handleConstant</a> (const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;operand)</td></tr>
<tr class="memdesc:ad30cfce2c705545dbeeae12c7c180fcf inherit pro_methods_classcasacore_1_1MeasEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a constant Meas value.  <a href="#ad30cfce2c705545dbeeae12c7c180fcf">More...</a><br/></td></tr>
<tr class="separator:ad30cfce2c705545dbeeae12c7c180fcf inherit pro_methods_classcasacore_1_1MeasEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classcasacore_1_1MeasEngine"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classcasacore_1_1MeasEngine')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classcasacore_1_1MeasEngine.html">casacore::MeasEngine&lt; MPosition &gt;</a></td></tr>
<tr class="memitem:a81c6941b9ecd98b0ca532ca49c706e3c inherit pro_attribs_classcasacore_1_1MeasEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1Array.html">Array</a>&lt; <a class="el" href="classcasacore_1_1MPosition.html">MPosition</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MeasEngine.html#a81c6941b9ecd98b0ca532ca49c706e3c">itsConstants</a></td></tr>
<tr class="separator:a81c6941b9ecd98b0ca532ca49c706e3c inherit pro_attribs_classcasacore_1_1MeasEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06497bdd65d2bc1dadae0f6161f13d09 inherit pro_attribs_classcasacore_1_1MeasEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1MPosition.html#a27a281e66a485ef884d5739fed06fc37">MPosition::Types</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MeasEngine.html#a06497bdd65d2bc1dadae0f6161f13d09">itsRefType</a></td></tr>
<tr class="separator:a06497bdd65d2bc1dadae0f6161f13d09 inherit pro_attribs_classcasacore_1_1MeasEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a68bb73133d9dbf8380672f11d55d2 inherit pro_attribs_classcasacore_1_1MeasEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1ScalarMeasColumn.html">ScalarMeasColumn</a>&lt; <a class="el" href="classcasacore_1_1MPosition.html">MPosition</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MeasEngine.html#ac4a68bb73133d9dbf8380672f11d55d2">itsMeasScaCol</a></td></tr>
<tr class="separator:ac4a68bb73133d9dbf8380672f11d55d2 inherit pro_attribs_classcasacore_1_1MeasEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8330d121da74d835a32927ded62453f2 inherit pro_attribs_classcasacore_1_1MeasEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1ArrayMeasColumn.html">ArrayMeasColumn</a>&lt; <a class="el" href="classcasacore_1_1MPosition.html">MPosition</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MeasEngine.html#a8330d121da74d835a32927ded62453f2">itsMeasArrCol</a></td></tr>
<tr class="separator:a8330d121da74d835a32927ded62453f2 inherit pro_attribs_classcasacore_1_1MeasEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classcasacore_1_1BaseEngine"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classcasacore_1_1BaseEngine')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classcasacore_1_1BaseEngine.html">casacore::BaseEngine</a></td></tr>
<tr class="memitem:a18cb32926fc8c0d29a7751f10a16ffa0 inherit pro_attribs_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#a18cb32926fc8c0d29a7751f10a16ffa0">itsIsConst</a></td></tr>
<tr class="separator:a18cb32926fc8c0d29a7751f10a16ffa0 inherit pro_attribs_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c4dcf24343e09b969b1d9baacb3159 inherit pro_attribs_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1IPosition.html">IPosition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#ac4c4dcf24343e09b969b1d9baacb3159">itsShape</a></td></tr>
<tr class="separator:ac4c4dcf24343e09b969b1d9baacb3159 inherit pro_attribs_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff326db0c47f780294ea7794a9776fbd inherit pro_attribs_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#aff326db0c47f780294ea7794a9776fbd">itsNDim</a></td></tr>
<tr class="separator:aff326db0c47f780294ea7794a9776fbd inherit pro_attribs_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed8d182053587ccfcc74b93e8d9a4416 inherit pro_attribs_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1Unit.html">Unit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#aed8d182053587ccfcc74b93e8d9a4416">itsInUnit</a></td></tr>
<tr class="separator:aed8d182053587ccfcc74b93e8d9a4416 inherit pro_attribs_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0635844dee01e3c01cff705ebcc72f inherit pro_attribs_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1Unit.html">Unit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#a5a0635844dee01e3c01cff705ebcc72f">itsOutUnit</a></td></tr>
<tr class="separator:a5a0635844dee01e3c01cff705ebcc72f inherit pro_attribs_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23f267d6c24c886dc7a0088dcd97ac5 inherit pro_attribs_classcasacore_1_1BaseEngine"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1TableExprNode.html">TableExprNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1BaseEngine.html#ae23f267d6c24c886dc7a0088dcd97ac5">itsExprNode</a></td></tr>
<tr class="separator:ae23f267d6c24c886dc7a0088dcd97ac5 inherit pro_attribs_classcasacore_1_1BaseEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Engine for TaQL UDF Position conversions. </p>
<p><a class="anchor" id="PositionEngine_summary"></a> </p>
<h3>Intended use:</h3>
<p>Public interface</p>
<h3>Review Status</h3>
<dl>
<dt>Test programs:</dt>
<dd>tMeas</dd>
</dl>
<h3>Prerequisite</h3>
<ul>
<li>
EngineBase </li>
</ul>
<h3>Synopsis</h3>
<p><a class="el" href="classcasacore_1_1PositionEngine.html" title="Engine for TaQL UDF Position conversions. ">PositionEngine</a> defines Engines (user defined functions) that can be used in TaQL to convert Measures for positions. In this way such derived values appear to be ordinary TaQL functions.</p>
<p>In TaQL these functions can be called like: </p>
<div class="fragment"><div class="line">meas.pos (toref, pos)</div>
<div class="line">meas.wgs (pos)</div>
<div class="line">meas.itrfxyz (pos)</div>
<div class="line">For example,</div>
<div class="line">meas.pos (<span class="stringliteral">&#39;ITRF&#39;</span>, [1e6m,1e6m,1e6m], <span class="stringliteral">&#39;WGS84&#39;</span>)</div>
</div><!-- fragment --> <ul>
<li>
<code>toref</code> is a single constant string defining the reference frame to convert to. Note it should be omitted for the functions (e.g., meas.wgs) with an implicit destination reference frame. The reference type WGS84 or ITRF can optionally have the suffix XYZ, LLH, LL (or LONLAT) and H (or HEIGHT) telling how the result should be returned. </li>
<li>
<code>pos</code> specifies the position(s) which can be done in various ways. <ul>
<li>
An array of positions given as xyz, as lonlat, as lon-lat-height or as height. The latter is taken towards the pole. Note that specifying as lon-lat-height precludes use of units (angle and length units cannot be mixed in a TaQL value). It can be given as a single list or a multi-dim array. If given as lonlat it can be followed by an array defining the height for each lon,lat pair (their sizes should match). Finally it can be followed by a string defining the source reference type, which defaults to ITRF for x,y,z and WGS84 for lon,lat. The source reference type can contain the suffix XYZ, LLH, LL or H to tell how the values are specified. If no suffix is given, it is derived from the unit of the first value (angle means LL, length means XYZ). </li>
<li>
If a single constant position is used, it can be given as 1, 2 or 3 scalar values, optionally followed by the source reference type. If x,y,z or lon,lat or lon,lat,h or h is given is derived in the same way as above. </li>
<li>
The name of a column in a table or a subset of it such as <code>POSITION[0,]</code>. Often this is a TableMeasures column which is recognized as such, also its source reference frame. If such a column is used in a expression, it will not be recognized as a TableMeasures column and its reference frame should be given. </li>
<li>
As a list containing (case-insensitive) names of known observatories such as 'WSRT' or 'VLA'. </li>
</ul>
</li>
</ul>
<p>The result of the function is an array with shape [2|3,pos] if lon,lat(,h) or x,y,z is returned and shape [pos] if height is returned. The last element is the shape of the position argument. It is omitted if it has length 1. In such a case getting the height results in a scalar.</p>
<h3>Example</h3>
<p><a class="anchor" id="PositionEngine_example1"></a></p>
<div class="fragment"><div class="line"><span class="comment">// Get the WGS84 lon,lat of WSRT (in degrees).</span></div>
<div class="line">meas.wgsll (<span class="stringliteral">&#39;WSRT&#39;</span>) deg</div>
<div class="line"><span class="comment">// Get the ITRF x,y,z of WSRT and VLA.</span></div>
<div class="line">meas.itrfxyz ([<span class="stringliteral">&#39;WSRT&#39;</span>, <span class="stringliteral">&#39;VLA&#39;</span>])</div>
</div><!-- fragment --><h3>Motivation</h3>
<p>It makes it possible to handle measures in TaQL. </p>

<p>Definition at line <a class="el" href="PositionEngine_8h_source.html#l00126">126</a> of file <a class="el" href="PositionEngine_8h_source.html">PositionEngine.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad14a75b9a632f5fa0a21e2b7b8963a5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">casacore::PositionEngine::PositionEngine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8afd6875d145a5f71d2a5d26be5143d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual casacore::PositionEngine::~PositionEngine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5083289fa5ccb7c8dd640b74ae65dec2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::PositionEngine::deriveAttr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1Unit.html">Unit</a> &amp;&#160;</td>
          <td class="paramname"><em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td>
          <td class="paramname"><em>nval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Let a derived class derive its attributes. </p>
<p>The default implementation does nothing. </p>

<p>Reimplemented from <a class="el" href="classcasacore_1_1BaseEngine.html#a1e70f355b7138ddb4c853084acffcdf5">casacore::BaseEngine</a>.</p>

</div>
</div>
<a class="anchor" id="a7bfce9bd00d483cce6a69224b9baf11e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcasacore_1_1Array.html">Array</a>&lt;<a class="el" href="namespacecasacore.html#ada1f75eb2b38067e3eb1af7f5d69ebb2">Double</a>&gt; casacore::PositionEngine::getArrayDouble </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1TableExprId.html">TableExprId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcasacore_1_1MPosition.html#a27a281e66a485ef884d5739fed06fc37">MPosition::Types</a>&#160;</td>
          <td class="paramname"><em>toRefType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td>
          <td class="paramname"><em>toValueType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the values. </p>

</div>
</div>
<a class="anchor" id="a1e2f7c01bbed7ce81562591566e0bdcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcasacore_1_1Array.html">Array</a>&lt;<a class="el" href="classcasacore_1_1MPosition.html">MPosition</a>&gt; casacore::PositionEngine::getPositions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1TableExprId.html">TableExprId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the positions. </p>

</div>
</div>
<a class="anchor" id="a4d8cf89a778bd664688219cca720b6d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void casacore::PositionEngine::handleObservatory </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>operand</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9a985c7b01060bd011a3d415fb5f2db6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void casacore::PositionEngine::handlePosArray </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>angles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa8666bbadfced9a8a746a06c2f478a91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void casacore::PositionEngine::handlePosition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td>
          <td class="paramname"><em>toValueType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#a5c559d8d8bf2ae7f67b439955d6be88a">uInt</a> &amp;&#160;</td>
          <td class="paramname"><em>argnr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle the argument(s) giving the input positions and reference type. </p>
<p>The position can be a column in a table. </p>

</div>
</div>
<a class="anchor" id="a447ce1d63989624e13b2394a185685ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void casacore::PositionEngine::handleScalars </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>e1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>e2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecasacore.html#a96de37e9f61b7ffb08623f76bfebe944">TENShPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>e3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td>
          <td class="paramname"><em>nval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6408b9b2c10256ca8021a28a8a4ac919"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::PositionEngine::handleValues </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcasacore_1_1TableExprNode.html">TableExprNode</a> &amp;&#160;</td>
          <td class="paramname"><em>operand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1TableExprId.html">TableExprId</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcasacore_1_1Array.html">Array</a>&lt; <a class="el" href="classcasacore_1_1MPosition.html">MPosition</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>positions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Let a derive class handle the values. </p>

<p>Implements <a class="el" href="classcasacore_1_1MeasEngine.html#a7145305bf72405932768b5a2a6972f3d">casacore::MeasEngine&lt; MPosition &gt;</a>.</p>

</div>
</div>
<a class="anchor" id="aa19a7a3f0b92ec0a845b356122c441d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcasacore_1_1MPosition.html">MPosition</a> casacore::PositionEngine::makePosition </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacecasacore.html#ad5429fefc00b65ab7ddb394a0e3fa410">Quantity</a> &amp;&#160;</td>
          <td class="paramname"><em>qh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecasacore.html#ad5429fefc00b65ab7ddb394a0e3fa410">Quantity</a> &amp;&#160;</td>
          <td class="paramname"><em>q1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacecasacore.html#ad5429fefc00b65ab7ddb394a0e3fa410">Quantity</a> &amp;&#160;</td>
          <td class="paramname"><em>q2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make an <a class="el" href="classcasacore_1_1MPosition.html" title="A Measure: position on Earth. ">MPosition</a> from xyz or height,angles. </p>

</div>
</div>
<a class="anchor" id="a2769a8e8ef12ad4ef7b027982a63d25b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::PositionEngine::setValueType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td>
          <td class="paramname"><em>valueType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Let a derived class set its value type. </p>
<p>By default is does nothing. </p>

<p>Reimplemented from <a class="el" href="classcasacore_1_1BaseEngine.html#aa561431be9ce13c334804687b33a706e">casacore::BaseEngine</a>.</p>

</div>
</div>
<a class="anchor" id="a370017c34fcd8123a4885d645744afb0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcasacore_1_1String.html">String</a> casacore::PositionEngine::stripMeasType </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Let a derived class strip part of the reference type. </p>
<p>The default implementation returns the full type string. </p>

<p>Reimplemented from <a class="el" href="classcasacore_1_1BaseEngine.html#af0cdedb8daca6e6564d2a2432f9118fc">casacore::BaseEngine</a>.</p>

</div>
</div>
<a class="anchor" id="a46c597a0f971309d7b1b10cf5a55c5fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> casacore::PositionEngine::valueType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the value type. </p>
<p>It also gives the nr of output values per position. 0=default, 1=height, 2=angles, 3=xyz </p>

<p>Definition at line <a class="el" href="PositionEngine_8h_source.html#l00135">135</a> of file <a class="el" href="PositionEngine_8h_source.html">PositionEngine.h</a>.</p>

<p>References <a class="el" href="PositionEngine_8h_source.html#l00173">itsValueType</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a75fba02cdefa275a638f74aa811f6e26"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> casacore::PositionEngine::itsValueType</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="PositionEngine_8h_source.html#l00173">173</a> of file <a class="el" href="PositionEngine_8h_source.html">PositionEngine.h</a>.</p>

<p>Referenced by <a class="el" href="PositionEngine_8h_source.html#l00135">valueType()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>meas/MeasUDF/<a class="el" href="PositionEngine_8h_source.html">PositionEngine.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
