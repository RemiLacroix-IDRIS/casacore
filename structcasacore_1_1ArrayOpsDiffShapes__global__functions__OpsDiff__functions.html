<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>casacore: casacore::ArrayOpsDiffShapes_global_functions_OpsDiff_functions Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">casacore
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecasacore.html">casacore</a></li><li class="navelem"><a class="el" href="structcasacore_1_1ArrayOpsDiffShapes__global__functions__OpsDiff__functions.html">ArrayOpsDiffShapes_global_functions_OpsDiff_functions</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="structcasacore_1_1ArrayOpsDiffShapes__global__functions__OpsDiff__functions-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">casacore::ArrayOpsDiffShapes_global_functions_OpsDiff_functions Struct Reference<div class="ingroups"><a class="el" href="group__Arrays__module.html">Arrays_module</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Operations for 2 Arrays with possibly different shapes.  
 <a href="structcasacore_1_1ArrayOpsDiffShapes__global__functions__OpsDiff__functions.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ArrayOpsDiffShapes_8h_source.html">ArrayOpsDiffShapes.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6c435bbc0dff4d80dd0338061cf566c9"><td class="memTemplParams" colspan="2">template&lt;typename T , typename Alloc &gt; </td></tr>
<tr class="memitem:a6c435bbc0dff4d80dd0338061cf566c9"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a863dbf26a1e602513158145a3fb71183">LogicalArray</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structcasacore_1_1ArrayOpsDiffShapes__global__functions__OpsDiff__functions.html#a6c435bbc0dff4d80dd0338061cf566c9">reformedMask</a> (const <a class="el" href="classcasacore_1_1Array.html">Array</a>&lt; T, Alloc &gt; &amp;data, const T truthvalue, const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;desiredform)</td></tr>
<tr class="memdesc:a6c435bbc0dff4d80dd0338061cf566c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a LogicalArray with elements (at pos) set to (data(pos) == truthvalue).  <a href="#a6c435bbc0dff4d80dd0338061cf566c9">More...</a><br/></td></tr>
<tr class="separator:a6c435bbc0dff4d80dd0338061cf566c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a70e3c4bbcced1e4199e2200a294efc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcasacore_1_1ArrayOpsDiffShapes__global__functions__OpsDiff__functions.html#a1a70e3c4bbcced1e4199e2200a294efc">rightExpandableToLeft</a> (const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;leftShape, const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;rightShape)</td></tr>
<tr class="memdesc:a1a70e3c4bbcced1e4199e2200a294efc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can arrays left and right with respective shapes leftShape and rightShape be used in function(left, right,...) for the other functions declared here?  <a href="#a1a70e3c4bbcced1e4199e2200a294efc">More...</a><br/></td></tr>
<tr class="separator:a1a70e3c4bbcced1e4199e2200a294efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebbc0916d9a80674bc5713a433f72270"><td class="memTemplParams" colspan="2">template&lt;typename L , typename AllocL , typename R , typename AllocR , typename BinaryOperator &gt; </td></tr>
<tr class="memitem:aebbc0916d9a80674bc5713a433f72270"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structcasacore_1_1ArrayOpsDiffShapes__global__functions__OpsDiff__functions.html#aebbc0916d9a80674bc5713a433f72270">binOpExpandInPlace</a> (<a class="el" href="classcasacore_1_1Array.html">Array</a>&lt; L, AllocL &gt; &amp;left, const <a class="el" href="classcasacore_1_1Array.html">Array</a>&lt; R, AllocR &gt; &amp;right, BinaryOperator op)</td></tr>
<tr class="memdesc:aebbc0916d9a80674bc5713a433f72270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply op elementwise to left and right, replicating elements of right as necessary (see example above).  <a href="#aebbc0916d9a80674bc5713a433f72270">More...</a><br/></td></tr>
<tr class="separator:aebbc0916d9a80674bc5713a433f72270"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Operations for 2 Arrays with possibly different shapes. </p>
<p><a class="anchor" id="ArrayOpsDiffShapes_summary"></a> </p>
<h3>Prerequisite</h3>
<ul>
<li>
<a class="el" href="classcasacore_1_1Array.html">Array</a> </li>
<li>
(see ())ArrayMath </li>
</ul>
<h3>Etymology</h3>
<p>This file contains global functions that attempt binary operations with arrays that have possibly differing shapes.</p>
<h3>Synopsis</h3>
<p>These functions perform operations on two arrays, left and right, which go chunk by chunk in left and element by element in right, as long as right spans a subspace of left. If left's shape has more dimensions than right's, each entry in right will effectively be replicated as necessary to act on each entry in the corresponding chunk of left. e.g. if left's shape is (256, 256, 1, 4), and right's is (256, 256), left(i, j, 1, l) will be operated on with right(i, j) for i &amp; j from 0 to 255 and l from 0 to 3. Note that right must be either reformable to left's shape (same # of elements) or its shape must equal left's shape "as far as
 it goes", i.e. where right's dimensions are defined.</p>
<h3>Example</h3>
<p><a class="anchor" id="ArrayOpsDiffShapes_example1"></a></p>
<div class="fragment"><div class="line">Array&lt;Complex&gt; a(10, 6);</div>
<div class="line">Vector&lt;int&gt;    b(10);</div>
<div class="line">Array&lt;Complex&gt; <a class="code" href="namespacecasacore_1_1C.html#a2aff9552bacab8d7213d5c70f7f23dc9">c</a>(10, 6);</div>
<div class="line"></div>
<div class="line">c = binOpExpandR(a, b, std::plus&lt;Complex&gt;());</div>
</div><!-- fragment --><p> This example sets c(i, j) to a(i, j) + b(i). It checks that either b's shape can be reformed to a's (same # of elements) or that a's shape is the same as b's where b's dimensions are defined. The result of this operation is an <a class="el" href="classcasacore_1_1Array.html" title="A templated N-D Array class with zero origin. Array&lt;T, Alloc&gt; is a templated, N-dimensional, Array class. The origin is zero, but by default indices are zero-based. This Array class is the base class for the Vector, Matrix, and Cube subclasses. ">Array</a>.</p>
<p><a class="anchor" id="ArrayOpsDiffShapes_OpsDiff_functions"></a> </p>

<p>Definition at line <a class="el" href="ArrayOpsDiffShapes_8h_source.html#l00082">82</a> of file <a class="el" href="ArrayOpsDiffShapes_8h_source.html">ArrayOpsDiffShapes.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aebbc0916d9a80674bc5713a433f72270"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename L , typename AllocL , typename R , typename AllocR , typename BinaryOperator &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void casacore::ArrayOpsDiffShapes_global_functions_OpsDiff_functions::binOpExpandInPlace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcasacore_1_1Array.html">Array</a>&lt; L, AllocL &gt; &amp;&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1Array.html">Array</a>&lt; R, AllocR &gt; &amp;&#160;</td>
          <td class="paramname"><em>right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BinaryOperator&#160;</td>
          <td class="paramname"><em>op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply op elementwise to left and right, replicating elements of right as necessary (see example above). </p>
<p>Throws an <a class="el" href="classcasacore_1_1ArrayConformanceError.html" title="An error thrown when two arrays do not conform. ">ArrayConformanceError</a> exception if that cannot be done.</p>
<p>Currently assumes that it is the trailing axes of left that right will be replicated along. e.g. if left's shape is (1, 2, 4) and right's is (1, 2), the result will be left(i, j, k) op right(i, j) for all (i, j, k).</p>
<p>Like binOpExpandR(left, right, res, op), but work on left in place. </p>

</div>
</div>
<a class="anchor" id="a6c435bbc0dff4d80dd0338061cf566c9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename Alloc &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecasacore.html#a863dbf26a1e602513158145a3fb71183">LogicalArray</a> casacore::ArrayOpsDiffShapes_global_functions_OpsDiff_functions::reformedMask </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1Array.html">Array</a>&lt; T, Alloc &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T&#160;</td>
          <td class="paramname"><em>truthvalue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;&#160;</td>
          <td class="paramname"><em>desiredform</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a LogicalArray with elements (at pos) set to (data(pos) == truthvalue). </p>
<p>data is effectively collapsed using anyEQ if necessary to fit desiredform. Throws an exception if that does not work. </p>

</div>
</div>
<a class="anchor" id="a1a70e3c4bbcced1e4199e2200a294efc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool casacore::ArrayOpsDiffShapes_global_functions_OpsDiff_functions::rightExpandableToLeft </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;&#160;</td>
          <td class="paramname"><em>leftShape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;&#160;</td>
          <td class="paramname"><em>rightShape</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Can arrays left and right with respective shapes leftShape and rightShape be used in function(left, right,...) for the other functions declared here? </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>casa/Arrays/<a class="el" href="ArrayOpsDiffShapes_8h_source.html">ArrayOpsDiffShapes.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
